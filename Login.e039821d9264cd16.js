"use strict";(self.webpackChunkshopping_cart=self.webpackChunkshopping_cart||[]).push([[438],{42:(T,d,g)=>{g.r(d),g.d(d,{MainModule:()=>w});var l=g(6895),c=g(9347),e=g(4650),p=g(6566),f=g(2565),a=g(4006);function h(n,t){1&n&&(e.TgZ(0,"div",16),e._uU(1," Username is required! "),e.qZA())}function _(n,t){1&n&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function v(n,t){1&n&&(e.TgZ(0,"div"),e._uU(1," Password must be at least 4 characters "),e.qZA())}function M(n,t){if(1&n&&(e.TgZ(0,"div",16),e.YNc(1,_,2,0,"div",17),e.YNc(2,v,2,0,"div",17),e.qZA()),2&n){e.oxw();const o=e.MAs(12);e.xp6(1),e.Q6J("ngIf",o.errors.required),e.xp6(1),e.Q6J("ngIf",o.errors.minlength)}}function C(n,t){1&n&&(e.TgZ(0,"div",18),e._uU(1," Invalid username or password. Please check "),e.qZA())}const m=function(n){return{"is-invalid":n}};function x(n,t){if(1&n){const o=e.EpF();e.TgZ(0,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(o);const r=e.MAs(1),s=e.oxw();return e.KtG(r.form.valid&&s.onSubmit())}),e.TgZ(2,"div",6)(3,"label",7),e._uU(4,"Username"),e.qZA(),e.TgZ(5,"input",8,9),e.NdJ("ngModelChange",function(r){e.CHM(o);const s=e.oxw();return e.KtG(s.form.username=r)}),e.qZA(),e.YNc(7,h,2,0,"div",10),e.qZA(),e.TgZ(8,"div",6)(9,"label",11),e._uU(10,"Password"),e.qZA(),e.TgZ(11,"input",12,13),e.NdJ("ngModelChange",function(r){e.CHM(o);const s=e.oxw();return e.KtG(s.form.password=r)}),e.qZA(),e.YNc(13,M,3,2,"div",10),e.qZA(),e.TgZ(14,"div",6)(15,"button",14),e._uU(16," Login "),e.qZA()(),e.TgZ(17,"div",6),e.YNc(18,C,2,0,"div",15),e.qZA()()}if(2&n){const o=e.MAs(1),i=e.MAs(6),r=e.MAs(12),s=e.oxw();e.xp6(5),e.Q6J("ngModel",s.form.username)("ngClass",e.VKq(8,m,o.submitted&&i.errors)),e.xp6(2),e.Q6J("ngIf",i.errors&&o.submitted),e.xp6(4),e.Q6J("ngModel",s.form.password)("ngClass",e.VKq(10,m,o.submitted&&r.errors)),e.xp6(2),e.Q6J("ngIf",r.errors&&o.submitted),e.xp6(2),e.Q6J("disabled",s.loading),e.xp6(3),e.Q6J("ngIf",o.submitted&&s.isLoginFailed)}}function Z(n,t){if(1&n&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.hij(" Welcome ",o.username,". ")}}let u=(()=>{class n{constructor(o,i){this.authService=o,this.storageService=i,this.form={username:null,password:null},this.isLoggedIn=!1,this.isLoginFailed=!1,this.errorMessage="",this.username="",this.loading=!1,console.log("asssss")}ngOnInit(){this.storageService.isLoggedIn()&&(this.isLoggedIn=!0,this.username=this.storageService.getUser().UserName,window.location.href="/app-store/ProductsList")}onSubmit(){this.loading=!0;const{username:o,password:i}=this.form;this.authService.login(o,i).subscribe({next:r=>{this.loading=!1,r.length?(this.storageService.saveUser(r[0]),this.isLoginFailed=!1,this.isLoggedIn=!0,this.username=this.storageService.getUser().UserName,console.log(this.username),this.reloadPage()):this.isLoginFailed=!0},error:r=>{this.loading=!1,this.isLoginFailed=!0}})}reloadPage(){window.location.reload()}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(p.e),e.Y36(f.V))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:6,vars:2,consts:[[1,"login-page"],[1,"card","card-container"],["name","form","novalidate","",3,"ngSubmit",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["name","form","novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","username"],["type","text","name","username","placeholder","Enter your username","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["username","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","password"],["type","password","name","password","placeholder","Enter your password","required","","minlength","4",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["password","ngModel"],[1,"btn","btn-primary","btn-block","w-100",3,"disabled"],["class","alert alert-danger m-0 p-2","role","alert",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["role","alert",1,"alert","alert-danger","m-0","p-2"],[1,"alert","alert-success"]],template:function(o,i){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"h2"),e._uU(3,"Welcome"),e.qZA(),e.YNc(4,x,19,12,"form",2),e.YNc(5,Z,2,1,"div",3),e.qZA()()),2&o&&(e.xp6(4),e.Q6J("ngIf",!i.isLoggedIn),e.xp6(1),e.Q6J("ngIf",i.isLoggedIn))},dependencies:[l.mk,l.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.wO,a.On,a.F],styles:[".login-page[_ngcontent-%COMP%]{background:url(home-bg.353f2311d41b4062.jpg) no-repeat center;background-size:cover;width:100%;height:100vh;display:flex}.login-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:white;padding:2em;width:500px;margin:auto}.login-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;text-align:center}.login-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.login-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px}"]}),n})();const L=[{path:"",pathMatch:"prefix",component:u},{path:"Login",pathMatch:"prefix",component:u}];let b=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.Bz.forChild(L),c.Bz]}),n})(),w=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,b,a.u5]}),n})()}}]);